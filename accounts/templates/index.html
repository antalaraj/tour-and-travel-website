{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>TRAVELER - Free Travel Website Template</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="{% static 'img/favicon.ico' %}" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"> 

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- Libraries Stylesheet -->
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css' %}" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
</head>

<body>

    <!-- Top Bar Start -->
    <div class="container-fluid bg-light py-2 d-none d-lg-block">
        <div class="container">
            <div class="row align-items-center">
                <!-- Left Section: Contact Info -->
                <div class="col-lg-4 d-flex align-items-center">
                    <a href="mailto:antalaraj214@gmail.com" class="text-dark text-decoration-none me-3">
                        <i class="fa fa-envelope me-2 text-primary"></i> antalaraj214@gmail.com
                    </a>
                    <a href="tel:9924381285" class="text-dark text-decoration-none">
                        <i class="fa fa-phone-alt me-2 text-primary"></i> 9924381285
                    </a>
                </div>
                <!-- Center Section: Social Media Links -->
                <div class="col-lg-4 text-center">
                    <div class="d-inline-flex">
                        <a class="text-dark px-2" href="https://www.facebook.com" target="_blank">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a class="text-dark px-2" href="https://twitter.com" target="_blank">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a class="text-dark px-2" href="https://www.linkedin.com" target="_blank">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a class="text-dark px-2" href="https://www.instagram.com" target="_blank">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a class="text-dark px-2" href="https://www.youtube.com" target="_blank">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                <!-- Right Section: User Authentication -->
                <div class="col-lg-4 text-lg-end text-center mt-2 mt-lg-0">
                    {% if user.is_authenticated %}
                        <span class="me-3">Welcome, <strong>{{ user.username }}</strong>!</span>
                        <a href="{% url 'logout' %}" class="btn btn-sm btn-danger px-3">Logout</a>
                    {% else %}
                        <a href="{% url 'login' %}" class="btn btn-sm btn-primary px-3">Login</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <!-- Top Bar End -->

    <!-- Navbar Start -->
    <div class="container-fluid position-relative nav-bar p-0">
        <div class="container-lg position-relative p-0 px-lg-3" style="z-index: 9;">
            <nav class="navbar navbar-expand-lg bg-light navbar-light shadow-lg py-3 py-lg-0 pl-3 pl-lg-5">
                <a href="" class="navbar-brand">
                    <h1 class="m-0 text-primary"><span class="text-dark">TRAVEL</span>ER</h1>
                </a>
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-between px-3" id="navbarCollapse">
                    <div class="navbar-nav ml-auto py-0">
                        <a href="{% url 'index'%}" class="nav-item nav-link active">Home</a>
                        <a href="{% url 'about'%}" class="nav-item nav-link">About</a>
                        <a href="{% url 'service'%}" class="nav-item nav-link">Services</a>
                        <a href="{% url 'package'%}" class="nav-item nav-link">Tour Packages</a>
                        <a href="{% url 'bookings:my_bookings' %}" class="nav-item nav-link">My Bookings</a>
                        <div class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Pages</a>
                            <div class="dropdown-menu border-0 rounded-0 m-0">
                                <a href="{% url 'blog'%}" class="dropdown-item">Blog Grid</a>
                                <a href="{% url 'blog'%}" class="dropdown-item">Blog Detail</a>
                                <a href="{% url 'destination'%}" class="dropdown-item">Destination</a>
                                <a href="{% url 'guide'%}" class="dropdown-item">Travel Guides</a>
                                <a href="{% url 'testimonial'%}" class="dropdown-item">Testimonial</a>
                            </div>
                        </div>
                        <a href="{% url 'contact_create'%}" class="nav-item nav-link">Contact</a>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <!-- Navbar End -->

    <!-- Carousel Start -->
    <div class="container-fluid p-0">
        <div id="header-carousel" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="w-100" src="/static/img/carousel-1.jpg" alt="Image">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 900px;">
                            <h4 class="text-white text-uppercase mb-md-3">Tours & Travel</h4>
                            <h1 class="display-3 text-white mb-md-4">Let's Discover The World Together</h1>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <img class="w-100" src="/static/img/carousel-2.jpg" alt="Image">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 900px;">
                            <h4 class="text-white text-uppercase mb-md-3">Tours & Travel</h4>
                            <h1 class="display-3 text-white mb-md-4">Discover Amazing Places With Us</h1>
                        </div>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#header-carousel" data-slide="prev">
                <div class="btn btn-dark" style="width: 45px; height: 45px;">
                    <span class="carousel-control-prev-icon mb-n2"></span>
                </div>
            </a>
            <a class="carousel-control-next" href="#header-carousel" data-slide="next">
                <div class="btn btn-dark" style="width: 45px; height: 45px;">
                    <span class="carousel-control-next-icon mb-n2"></span>
                </div>
            </a>
        </div>
    </div>
    <!-- Carousel End -->

    <!-- About Start -->
    <div class="container-fluid py-5">
        <div class="container pt-5">
            <div class="row">
                <div class="col-lg-6" style="min-height: 500px;">
                    <div class="position-relative h-100">
                        <img class="position-absolute w-100 h-100" src="/static/img/about.jpg" style="object-fit: cover;">
                    </div>
                </div>
                <div class="col-lg-6 pt-5 pb-lg-5">
                    <div class="about-text bg-white p-4 p-lg-5 my-lg-5">
                        <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">About Us</h6>
                        <h1 class="mb-3">We Provide Best Tour Packages In Your Budget</h1>
                        <p>Experience the joy of travel with our carefully curated tour packages. We understand the importance of quality experiences within your budget, ensuring every journey is memorable and hassle-free. Our expert team works tirelessly to create perfect itineraries that match your preferences and expectations.</p>
                        <div class="row mb-4">
                            {% for destination in destinations|slice:":2" %}
                            <div class="col-6">
                                {% if destination.img %}
                                    <img class="img-fluid" src="{{ destination.img.url }}" alt="{{ destination.name }}">
                                {% else %}
                                    <div class="text-center py-3 text-muted">No image available</div>
                                {% endif %}
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- About End -->

    <!-- Feature Start -->
    <div class="container-fluid pb-5">
        <div class="container pb-5">
            <div class="row">
                <div class="col-md-4">
                    <div class="d-flex mb-4 mb-lg-0">
                        <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3" style="height: 100px; width: 100px;">
                            <i class="fa fa-2x fa-money-check-alt text-white"></i>
                        </div>
                        <div class="d-flex flex-column">
                            <h5 class="">Competitive Pricing</h5>
                            <p class="m-0">We offer the best value for your money with transparent pricing and no hidden charges. Our packages are designed to give you maximum value while staying within your budget.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="d-flex mb-4 mb-lg-0">
                        <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3" style="height: 100px; width: 100px;">
                            <i class="fa fa-2x fa-award text-white"></i>
                        </div>
                        <div class="d-flex flex-column">
                            <h5 class="">Best Services</h5>
                            <p class="m-0">Our dedicated team ensures top-notch service quality and customer satisfaction throughout your journey. From planning to execution, we're with you every step of the way.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="d-flex mb-4 mb-lg-0">
                        <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3" style="height: 100px; width: 100px;">
                            <i class="fa fa-2x fa-globe text-white"></i>
                        </div>
                        <div class="d-flex flex-column">
                            <h5 class="">Worldwide Coverage</h5>
                            <p class="m-0">Explore destinations across the globe with our extensive network of travel partners and local experts. We bring the world closer to you with our comprehensive travel solutions.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Feature End -->

    <!-- Destination Start -->
    <div class="container-fluid py-5">
        <div class="container pt-5 pb-3">
            <div class="text-center mb-3 pb-3">
                <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">Destination</h6>
                <h1>Featured Destinations</h1>
                <p class="text-muted">Discover our most popular travel destinations</p>
            </div>
            <div class="row">
                {% for topdestination in topdestinations %}
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="destination-card position-relative overflow-hidden rounded shadow">
                        {% if topdestination.img %}
                        <div class="destination-image">
                            <img class="img-fluid w-100" src="{{ topdestination.img.url }}" alt="{{ topdestination.title }}" style="height: 300px; object-fit: cover;">
                            <div class="destination-overlay">
                                <div class="destination-content">
                                    <h5 class="text-white mb-2">{{ topdestination.title }}</h5>
                                    <p class="text-white mb-3">{{ topdestination.location }}</p>
                                    <a href="{% url 'topdestination_detail' topdestination.id %}" class="btn btn-outline-light">Explore</a>
                                </div>
                            </div>
                        </div>
                        {% else %}
                        <div class="d-flex align-items-center justify-content-center bg-light" style="height: 300px;">
                            <span class="text-muted">No Image Available</span>
                        </div>
                        {% endif %}
                        <div class="destination-info p-4">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span class="text-primary">
                                    <i class="fa fa-star"></i>
                                    {{ topdestination.rating }}
                                </span>
                                <span class="text-muted">
                                    <i class="fa fa-calendar"></i>
                                    {{ topdestination.created_at|date:"M Y" }}
                                </span>
                            </div>
                            <h5 class="mb-2">{{ topdestination.title }}</h5>
                            <p class="text-muted mb-3">{{ topdestination.description|truncatewords:15 }}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <a href="{% url 'topdestination_detail' topdestination.id %}" class="btn btn-sm btn-primary">View Details</a>
                                <span class="text-primary">
                                    <i class="fa fa-map-marker-alt"></i>
                                    {{ topdestination.location }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center">
                    <p class="text-muted">No destinations found.</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <!-- Destination End -->

    <style>
    .destination-card {
        transition: transform 0.3s ease;
        background: #fff;
    }
    .destination-card:hover {
        transform: translateY(-5px);
    }
    .destination-image {
        position: relative;
        overflow: hidden;
    }
    .destination-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    .destination-card:hover .destination-overlay {
        opacity: 1;
    }
    .destination-content {
        text-align: center;
        color: #fff;
    }
    .destination-info {
        background: #fff;
    }
    </style>

    <!-- Service Start -->
    <div class="container-fluid py-5">
        <div class="container pt-5 pb-3">
            <div class="text-center mb-3 pb-3">
                <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">Services</h6>
                <h1>Tours & Travel Services</h1>
            </div>
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="service-item bg-white text-center mb-2 py-5 px-4">
                        <i class="fa fa-2x fa-suitcase mx-auto mb-4"></i>
                        <h5 class="mb-2">Tour Packages Booking</h5>
                        <p class="m-0">Discover our carefully curated tour packages designed to provide unforgettable travel experiences. From luxury getaways to budget-friendly adventures, we offer a wide range of options to suit every traveler's needs.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="service-item bg-white text-center mb-2 py-5 px-4">
                        <i class="fa fa-2x fa-user-tie mx-auto mb-4"></i>
                        <h5 class="mb-2">Expert Travel Guides</h5>
                        <p class="m-0">Our team of professional travel guides brings destinations to life with their extensive knowledge and local expertise. They ensure you experience the best of each location while providing valuable insights and assistance throughout your journey.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="service-item bg-white text-center mb-2 py-5 px-4">
                        <i class="fa fa-2x fa-smile mx-auto mb-4"></i>
                        <h5 class="mb-2">Best User Experience</h5>
                        <p class="m-0">We prioritize your comfort and satisfaction with our seamless booking process, 24/7 customer support, and personalized travel planning. Our commitment to excellence ensures a smooth and enjoyable travel experience from start to finish.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Service End -->

    <!-- Packages Start -->
    <div class="container-fluid py-5">
        <div class="container pt-5 pb-3">
            <div class="text-center mb-5">
                <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">Packages</h6>
                <h1 class="display-4 mb-3">Perfect Tour Packages</h1>
                <p class="text-muted">Discover our carefully curated travel experiences</p>
            </div>
            <div class="row">
                {% for destination in destinations %}
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="package-item bg-white shadow rounded overflow-hidden">
                            <div class="package-img position-relative">
                            {% if destination.img %}
                                <img src="{{ destination.img.url }}" 
                                    alt="{{ destination.name }}" 
                                        class="img-fluid w-100" 
                                        style="height: 280px; object-fit: cover;">
                            {% else %}
                                    <div class="text-center py-5 bg-light">
                                        <i class="fas fa-image fa-3x text-muted"></i>
                                        <p class="text-muted mt-2">No image available</p>
                                    </div>
                            {% endif %}
                                <div class="package-overlay">
                                    <div class="package-content">
                                        <h5 class="text-white mb-2">{{ destination.name }}</h5>
                                        <p class="text-white mb-3">{{ destination.location }}</p>
                                        <a href="{% url 'destination_detail' destination.id %}" class="btn btn-outline-light">Explore Now</a>
                                    </div>
                                </div>
                            </div>
                            <div class="p-4">
                                <div class="d-flex justify-content-between mb-3">
                                    <small class="text-primary"><i class="fa fa-map-marker-alt mr-2"></i>{{ destination.name }}</small>
                                    <small class="text-primary"><i class="fa fa-calendar-alt mr-2"></i>{{ destination.duration }}</small>
                                    <small class="text-primary"><i class="fa fa-user mr-2"></i>{{ destination.persons }}</small>
                                </div>                                                       
                                <h5 class="mb-3 text-truncate font-weight-bold">{{ destination.description }}</h5>
                                <div class="border-top mt-4 pt-4">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <h6 class="m-0"><i class="fa fa-star text-primary mr-2"></i>{{ destination.rating }} <small>(250)</small></h6>
                                        </div>
                                        <div>
                                            <h5 class="m-0 text-primary font-weight-bold">₹{{ destination.price }}</h5>
                                        </div>
                                    </div>
                                    <div class="mt-3">
                                        <a href="{% url 'destination_detail' destination.id %}" class="btn btn-primary btn-block">
                                            Explore Now
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% empty %}
                    <div class="col-12 text-center">
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle mr-2"></i>
                            No tour packages available at the moment.
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <!-- Packages End -->

    <style>
    .package-item {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: none;
        margin-bottom: 1.5rem;
    }
    
    .package-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
    }
    
    .package-img {
        position: relative;
        overflow: hidden;
    }
    
    .package-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .package-item:hover .package-overlay {
        opacity: 1;
    }
    
    .package-content {
        text-align: center;
        color: #fff;
        padding: 1.5rem;
    }
    
    .package-content h5 {
        font-size: 1.5rem;
        margin-bottom: 0.75rem;
        font-weight: 600;
        letter-spacing: 0.5px;
    }
    
    .package-content p {
        font-size: 1rem;
        margin-bottom: 1.25rem;
        letter-spacing: 0.3px;
    }
    
    .btn-outline-light {
        border: 2px solid #fff;
        padding: 0.75rem 2rem;
        font-weight: 500;
        letter-spacing: 0.5px;
        transition: all 0.3s ease;
    }
    
    .btn-outline-light:hover {
        background: #fff;
        color: #7AB730;
        transform: translateY(-2px);
    }
    
    .text-primary {
        color: #7AB730 !important;
    }
    
    .btn-primary {
        background-color: #7AB730;
        border-color: #7AB730;
        padding: 0.75rem 1.5rem;
        font-weight: 500;
        letter-spacing: 0.5px;
        transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
        background-color: #5a8f24;
        border-color: #5a8f24;
        transform: translateY(-2px);
    }

    .display-4 {
        font-weight: 600;
        letter-spacing: 0.5px;
    }

    .text-muted {
        letter-spacing: 0.3px;
    }

    .font-weight-bold {
        font-weight: 600 !important;
    }

    .alert {
        padding: 1.25rem;
        border-radius: 0.5rem;
        font-size: 1.1rem;
        letter-spacing: 0.3px;
    }
    </style>

    <!-- Travel Guides Section Start -->
    <div class="container-fluid py-5">
        <div class="container pt-5 pb-3">
            <div class="text-center mb-3 pb-3">
                <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">Guides</h6>
                <h1>Our Travel Guides</h1>
            </div>
            <div class="row">
                {% if travels %}
                    {% for travel in travels %}
                        <div class="col-lg-3 col-md-4 col-sm-6 pb-2">
                            <div class="team-item bg-white mb-4 shadow rounded">
                                <div class="team-img position-relative overflow-hidden" style="border-radius: 10px;">
                                    {% if travel.image %}
                                        <img class="img-fluid w-100" src="{{ travel.image.url }}" 
                                            alt="{{ travel.name }}" 
                                            style="height: 250px; object-fit: cover; border-radius: 10px;">
                                    {% else %}
                                        <div class="text-center py-4">No image available</div>
                                    {% endif %}
                                    <div class="team-social position-absolute w-100 h-100 d-flex align-items-center justify-content-center" 
                                        style="top: 0; left: 0; background: rgba(0, 0, 0, 0.5); opacity: 0; transition: 0.3s;">
                                        <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fab fa-twitter"></i></a>
                                        <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fab fa-facebook-f"></i></a>
                                        <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fab fa-instagram"></i></a>
                                        <a class="btn btn-outline-light btn-square mx-1" href="#"><i class="fab fa-linkedin-in"></i></a>
                                    </div>
                                </div>
                                <div class="text-center py-4">
                                    <h5 class="text-truncate mb-1">{{ travel.name }}</h5>
                                    <p class="m-0 text-muted">{{ travel.designation }}</p>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="col-12 text-center">
                        <h5 class="text-muted">No travel guides available.</h5>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
    <!-- Travel Guides Section End -->

    <!-- Testimonial Start -->
    <div class="container-fluid py-5">
        <div class="container py-5">
            <div class="text-center mb-3 pb-3">
                <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">Testimonial</h6>
                <h1>What Our Clients Say</h1>
            </div>
            {% if featured_reviews %}
            <div class="owl-carousel testimonial-carousel">
                {% for review in featured_reviews %}
                <div class="text-center pb-4">
                    {% if review.customer_image %}
                        <img class="img-fluid mx-auto" src="{{ review.customer_image.url }}" style="width: 100px; height: 100px; object-fit: cover; border-radius: 50%;">
                    {% else %}
                        <img class="img-fluid mx-auto" src="/static/img/user.jpg" style="width: 100px; height: 100px; object-fit: cover; border-radius: 50%;">
                    {% endif %}
                    <div class="testimonial-text bg-white p-4 mt-n5">
                        <p class="mt-5">{{ review.comment }}</p>
                        <h5 class="text-truncate">{{ review.get_customer_name }}</h5>
                        <div class="text-warning mb-2">
                            {% for i in "12345"|make_list %}
                                {% if forloop.counter <= review.rating %}
                                    <i class="fas fa-star"></i>
                                {% else %}
                                    <i class="far fa-star"></i>
                                {% endif %}
                            {% endfor %}
                        </div>
                        <span>{{ review.created_at|date:"M d, Y" }}</span>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="text-center">
                <p class="text-muted">No reviews available yet. Be the first to share your experience!</p>
            </div>
            {% endif %}
        </div>
    </div>
    <!-- Testimonial End -->

    <!-- Blog Start -->
    <div class="container-fluid py-5">
        <div class="container pt-5 pb-3">
            <div class="text-center mb-3 pb-3">
                <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">Our Blog</h6>
                <h1>Latest From Our Blog</h1>
            </div>
            <div class="row pb-3">
                {% if latest_blogs %}
                    {% for blog in latest_blogs %}
                    <div class="col-lg-4 col-md-6 mb-4 pb-2">
                        <div class="blog-item shadow-sm rounded overflow-hidden">
                            <div class="position-relative">
                                {% if blog.image %}
                                    <img src="{{ blog.image.url }}" alt="{{ blog.title }}" class="img-fluid rounded w-100" style="height: 250px; object-fit: cover;">
                                {% endif %}
                                <div class="blog-date position-absolute text-center">
                                    <h6 class="font-weight-bold mb-0">{{ blog.created_at|date:"d" }}</h6>
                                    <small class="text-white text-uppercase">{{ blog.created_at|date:"M" }}</small>
                                </div>
                            </div>
                            <div class="bg-white p-4">
                                <div class="d-flex mb-2">
                                    <a class="text-primary text-uppercase text-decoration-none font-weight-bold" href="#">{{ blog.author }}</a>
                                    <span class="text-primary px-2">|</span>
                                    <a class="text-primary text-uppercase text-decoration-none font-weight-bold" href="#" data-bs-toggle="modal" data-bs-target="#blogModal{{ blog.id }}">{{ blog.title }}</a>
                                </div>
                                <p class="text-muted">{{ blog.content|truncatewords:20 }}</p>
                                <button class="btn btn-sm btn-primary text-white mt-2" data-bs-toggle="modal" data-bs-target="#blogModal{{ blog.id }}">
                                    Read More
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Blog Details Modal -->
                    <div class="modal fade" id="blogModal{{ blog.id }}" tabindex="-1" aria-labelledby="blogModalLabel{{ blog.id }}" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="blogModalLabel{{ blog.id }}">{{ blog.title }}</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    {% if blog.image %}
                                    <div class="text-center mb-3">
                                        <img src="{{ blog.image.url }}" alt="{{ blog.title }}" class="img-fluid rounded">
                                    </div>
                                    {% endif %}
                                    <p class="lead">{{ blog.content }}</p>
                                    <p class="text-muted"><strong>By:</strong> {{ blog.author }}</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="col-12 text-center">
                        <p class="text-muted">No blog posts available.</p>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
    <!-- Blog End -->

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white-50 py-5 px-sm-3 px-lg-5" style="margin-top: 90px;">
        <div class="row pt-5">
            <div class="col-lg-3 col-md-6 mb-5">
                <a href="" class="navbar-brand">
                    <h1 class="text-primary"><span class="text-white">TRAVEL</span>ER</h1>
                </a>
                <p>Embark on unforgettable journeys with TRAVELER. We specialise in creating memorable travel experiences that last a lifetime. Our commitment to excellence and customer satisfaction sets us apart in the travel industry.</p>
                <h6 class="text-white text-uppercase mt-4 mb-3" style="letter-spacing: 5px;">Follow Us</h6>
                <div class="d-flex justify-content-start">
                    <a class="btn btn-outline-primary btn-square mr-2" href="#"><i class="fab fa-twitter"></i></a>
                    <a class="btn btn-outline-primary btn-square mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-outline-primary btn-square mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
                    <a class="btn btn-outline-primary btn-square" href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-5">
                <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">Our Services</h5>
                <div class="d-flex flex-column justify-content-start">
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>About</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Destination</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Services</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Packages</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Guides</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Testimonial</a>
                    <a class="text-white-50" href="#"><i class="fa fa-angle-right mr-2"></i>Blog</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-5">
                <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">Useful Links</h5>
                <div class="d-flex flex-column justify-content-start">
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>About</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Destination</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Services</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Packages</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Guides</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Testimonial</a>
                    <a class="text-white-50" href="#"><i class="fa fa-angle-right mr-2"></i>Blog</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-5">
                <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">Contact Us</h5>
                <p><i class="fa fa-map-marker-alt mr-2"></i>Sardardham, Ahmedabad</p>
                <p><i class="fa fa-phone-alt mr-2"></i>+91 9924381285</p>
                <p><i class="fa fa-envelope mr-2"></i>antalaraj214@gmail.com</p>
                <h6 class="text-white text-uppercase mt-4 mb-3" style="letter-spacing: 5px;">Newsletter</h6>
                <div class="w-100">
                    <div class="input-group">
                        <input type="text" class="form-control border-light" style="padding: 25px;" placeholder="Your Email">
                        <div class="input-group-append">
                            <button class="btn btn-primary px-3">Sign Up</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid bg-dark text-white border-top py-4 px-sm-3 px-md-5" style="border-color: rgba(256, 256, 256, .1) !important;">
        <div class="row">
            <div class="col-lg-6 text-center text-md-left mb-3 mb-md-0">
                <p class="m-0 text-white-50">Copyright &copy; <a href="#">Domain</a>. All Rights Reserved.</p>
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="fa fa-angle-double-up"></i></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'lib/easing/easing.min.js' %}"></script>
    <script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}"></script>
    <script src="{% static 'lib/tempusdominus/js/moment.min.js' %}"></script>
    <script src="{% static 'lib/tempusdominus/js/moment-timezone.min.js' %}"></script>
    <script src="{% static 'lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="{% static 'mail/jqBootstrapValidation.min.js' %}"></script>
    <script src="{% static 'mail/contact.js' %}"></script>

    <!-- Template Javascript -->
    <script src="{% static 'js/main.js' %}"></script>

    <!-- Booking Modals -->
    {% for destination in destinations %}
    <div class="modal fade" id="bookingModal{{ destination.id }}" tabindex="-1" role="dialog" aria-labelledby="bookingModalLabel{{ destination.id }}" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="bookingModalLabel{{ destination.id }}">Book {{ destination.name }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form method="post" action="{% url 'bookings:create_booking' destination.id %}" id="bookingForm{{ destination.id }}">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="travel_date{{ destination.id }}">Travel Date</label>
                            <input type="date" class="form-control" id="travel_date{{ destination.id }}" name="travel_date" required>
                        </div>
                        <div class="form-group">
                            <label for="travelers{{ destination.id }}">Number of Travelers</label>
                            <input type="number" class="form-control" id="travelers{{ destination.id }}" 
                                   name="travelers" min="1" max="{{ destination.persons }}" required 
                                   data-destination-id="{{ destination.id }}" 
                                   data-price="{{ destination.price }}"
                                   value="1">
                        </div>
                        <div class="form-group">
                            <label for="special_requests{{ destination.id }}">Special Requests</label>
                            <textarea class="form-control" id="special_requests{{ destination.id }}" name="special_requests" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <h5>Price Details</h5>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Price per person:</span>
                                <span>₹{{ destination.price }}</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Number of travelers:</span>
                                <span id="travelersCount{{ destination.id }}">1</span>
                            </div>
                            <div class="d-flex justify-content-between font-weight-bold">
                                <span>Total Price:</span>
                                <span id="totalPrice{{ destination.id }}">₹{{ destination.price }}</span>
                            </div>
                            <input type="hidden" name="total_amount" id="totalAmount{{ destination.id }}" value="{{ destination.price }}">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="submit" class="btn btn-primary">Confirm Booking</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}

    {% block extra_js %}
    <script src="{% static 'js/booking.js' %}"></script>
    {% endblock %}
</body>

</html>