{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container-fluid py-5">
    <div class="container py-5">
        <div class="text-center mb-3 pb-3">
            <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">Admin</h6>
            <h1>Update Booking Status</h1>
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="bg-white p-4 mb-4 shadow rounded">
                    <div class="mb-4">
                        <h5>Booking Details</h5>
                        <div class="d-flex justify-content-between mb-2">
                            <small><i class="fa fa-user text-primary mr-2"></i> User: {{ booking.user.username }}</small>
                            <small><i class="fa fa-calendar-alt text-primary mr-2"></i> Date: {{ booking.travel_date }}</small>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <small><i class="fa fa-map-marker-alt text-primary mr-2"></i> Destination: {{ booking.topdestination.title }}</small>
                            <small><i class="fa fa-users text-primary mr-2"></i> People: {{ booking.number_of_people }}</small>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <small><i class="fa fa-check text-primary mr-2"></i> Current Status: {{ booking.status|title }}</small>
                            <small><i class="fa fa-dollar-sign text-primary mr-2"></i> Total: ${{ booking.total_price }}</small>
                        </div>
                        {% if booking.special_requests %}
                        <div class="mb-2">
                            <small class="text-muted">Special Requests: {{ booking.special_requests }}</small>
                        </div>
                        {% endif %}
                    </div>
                    <form method="post">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="action">Update Status</label>
                            <select class="form-control" id="action" name="action" required>
                                <option value="">Select an action</option>
                                <option value="approve">Approve</option>
                                <option value="reject">Reject</option>
                            </select>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Update Status</button>
                            <a href="{% url 'bookings:admin_topdestination_booking_list' %}" class="btn btn-secondary">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 